<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" /> <!-- Character encoding for the webpage -->
<meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- Required for Internet Explorer compatibility -->

<!-- Metadata for search engines -->
<title>Quiz | Quizzatopia - Explore a World of Quizzes</title>
<meta name="generator" content="Quizzatopia" /> 
<meta name="description" content="Welcome to Quizzatopia - the ultimate destination for all your quizzing needs. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. Join now to compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta itemprop="name" content="Quizzatopia">
<meta property="og:title" content="Quizzatopia - Explore a World of Quizzes">
<meta property="og:image" content="https://www.quizzatopia.com/images/logo.png">
<meta name="Distribution" content="Global" />
<meta name="Rating" content="General" />
<meta name="copyright" content="Quizzatopia">
<meta name="language" content="English">
<meta name="reply-to" content="quizzatopia@gmail.com">
<meta name="generator" content="Adobe Dreamweaver">
<meta name="Developer" content="Ron Wilson II">
<!-- Links to favicon images for various devices -->
<link rel="icon" sizes="192x192" href="/favicon.ico">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="icon" type="image/x-icon" href="/favicon.ico"> <!-- Alternate link to favicon image -->
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /> <!-- Required for mobile devices -->
<meta property="og:type" content="website">
<meta property="og:description" content="Welcome to Quizzatopia - the ultimate destination for all your quizzing needs. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. Join now to compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta name="keywords" content="quizzing, quizzes, learning, education, fun, trivia, exam preparation, sign up, log in, compete, points, achievements">
<meta property="og:url" content="https://www.quizzatopia.com">
<meta name="robots" content="index,follow">
	<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@Quizzatopia">
<meta name="twitter:title" content="Quizzatopia - Explore a World of Quizzes">
<meta name="twitter:description" content="Welcome to Quizzatopia - the ultimate destination for all your quizzing needs. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. Join now to compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta name="twitter:image" content="https://www.quizzatopia.com/images/logo.png">
<meta name="twitter:url" content="https://www.quizzatopia.com">

<!-- Open Graph metadata for Facebook -->
<meta property="og:site_name" content="Quizzatopia">
<meta property="og:locale" content="en_US">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<!-- Schema.org markup for Google+ -->
<meta itemprop="description" content="Welcome to Quizzatopia - the ultimate destination for all your quizzing needs. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. Join now to compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta itemprop="image" content="https://www.quizzatopia.com/images/logo.png">

	
	<!-- Search engine verification -->
<meta name="google-site-verification" content="your-verification-code">

<!-- Canonical URL -->
<link rel="canonical" href="https://www.quizzatopia.com/quiz">

<!-- Author information -->
<meta name="author" content="Ron Wilson II">
<meta name="contact" content="quizzatopia@gmail.com">

<!-- Page-specific metadata -->
<meta name="subject" content="Quizzatopia Platform">
<meta name="topic" content="Quizzing, Education, Learning, Quizzes">
<meta name="geo.placename" content="Dallas, TX">
<meta name="geo.region" content="US-TX">

<!-- Language and content type -->
<meta name="content-language" content="en-US">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<!-- Caching and expiration -->
<meta http-equiv="expires" content="Tue, 01 Jan 2024 00:00:00 GMT">
<meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="pragma" content="no-cache">
	
	
		<!-- google ad sense code -->
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4968673576211489"
     crossorigin="anonymous"></script>
	
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

	  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="./CSS/indexOptions.css">
  
    <link rel="import" href="./elements/navbar.html">
    <link rel="import" href="./elements/footer.html">
	 <script src="/js/load.js"></script>
  <link rel="stylesheet" href="/auth/style.css">

</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9VG78SV9KZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9VG78SV9KZ');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4968673576211489"
     crossorigin="anonymous"></script>
<body>
	<main_section>
  <div id="navbar"></div>
    <!-- rest of the page content -->
		
		
<style>/* Styles for the social-sharing section */
#social-sharing {
  padding: 5%;
}

/* Styles for the social-sharing buttons */
#social-sharing .btn {
  display: inline-block;
  padding: 2%;
  margin: 1%;
}

/* Styles for the getFull_BTN element */
#getFull_BTN {
  width: 80%;
  padding: 2%;
  margin: 5% 0 10% 0;
}

#quiz-timer-qn {
  display: flex;
}

#question-number {
  /* Add your styles here */
}

/* Example CSS styling for the pie chart */
#pie-chart {
  margin-top: 20px;
  width: 50% !important;
  height: 50% !important;
  margin: auto;
}

.badge-img {
  max-width: 200px;
  max-height: 200px;
  margin-bottom: 20px;
  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.2);
  border-radius: 10px;
}

#report_BTN {
  /* Add your styles here */
}

.animate-earned-points {
  animation: pointsAnimation 1s ease-in-out;
}

@keyframes pointsAnimation {
  0% {
    transform: translateY(0);
    opacity: 1;
  }
  50% {
    transform: translateY(-20px);
    opacity: 0.5;
  }
  100% {
    transform: translateY(-40px);
    opacity: 0;
  }
}

#earnedPoints {
  font-size: 2em;
}

.bmc-btn {
  background-color: #0d6efd !important;
}

#social-sharing .btn {
  width: 40%;
}

#badgeBox {
  overflow: hidden;
  display: grid;
  width: 100%;
}

	
	
	
	.card.awardBadge {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  border-radius: 8px;
  background-color: #fff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.badge-layer-1 {
  background-color: #e9ebee;
  width: 100%;
  height: 6px;
  border-radius: 4px 4px 0 0;
}

.badge-layer-2 {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background-color: #fff;
  border: 2px solid #ccc;
  margin-top: -60px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.badge-image {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
}

.card-body {
  text-align: center;
  padding: 20px;
}

.card-title {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 10px;
}

.card-text {
  font-size: 14px;
  margin-bottom: 5px;
}


	
	


#btn_container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 20px;
  margin-left: 20px;
  margin-right: 20px;
}
.explanation-container {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 300px;
  max-width: 90%;
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 5px;
  padding: 20px;
  z-index: 9999;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  cursor: move;
	display:none;
}

.close-button {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 20px;
  color: #999;
  background: transparent;
  border: none;
  outline: none;
  cursor: pointer;
}

.close-button:hover {
  color: #666;
}

	
	
	#reportForm{
		
    position: absolute;
        min-width: 50%;
    max-width: 60%;
    display: block;
    margin: auto;
    z-index: 500;
    left: 0;
    bottom: 0;
    right: 0;
    background-color: white;
    top: 0;
    height: fit-content;
    padding: 3%;
    border: 1px solid #ddd;
    padding: 20px;
		display:none;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
	}
</style>
		
		
		
		
		
	

		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
<div id="optionContainer" class="container">
  <div class="row" style="
    padding: 2%;
">
    <div class="col-md-6">
      <div class="quiz-options">
        <div class="form-check">
          <div id="optionsQuizNameWrap">
            <div id="optionsQuizName" class="text-center mb-4">Quiz Name</div>
            <!-- Quiz Name -->
          </div>
        </div>
        <hr>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="timer-checkbox">
          <label class="form-check-label" for="timer-checkbox">
            Enable Timer
          </label>
          <!-- Enable Timer Checkbox -->
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="countdown-per-question">
          <label class="form-check-label" for="countdown-per-question">
            Countdown per Question
          </label>
          <!-- Countdown per Question Checkbox -->
        </div>
        <div id="timer-timeGroup" class="form-group">
          <label for="quiz-time">Quiz Time:</label>
          <div class="input-group">
            <input type="number" id="quiz-time" name="quiz-time" value="30" class="form-control">
            <div class="input-group-append">
              <span class="input-group-text">Seconds</span>
            </div>
          </div>
          <!-- Quiz Time Input -->
        </div>
        
        <hr>
        
        <div id="testInfo" class="text-center mb-4"></div>
        <!-- Test Information Placeholder -->
	      
	        <p id="pie_graph_front" style="
    width: 50%;
    margin: auto;
"></p>

	      
        <!-- Pie graph -->
	      
        <div class="text-center">
          <button id="start-btn" class="btn btn-primary btn-lg">Start Quiz</button>
          <!-- Start Quiz Button -->
		    <div class="quiz-image-container text-center">
        <img src="/images/lan/9.png" alt="quiz-image" class="w-100"  loading="lazy">
        <!-- Quiz Image -->
      </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="quiz-image-container text-center">
        <img src="/images/lan/10.png" alt="quiz-image" class="w-100 d-md-block"  loading="lazy">
        <!-- Quiz Image -->
      </div>
	   
	    <div class="container" style="
    padding: 2%;
"  loading="lazy">
  <div class="row" >
    <div class="col-md">
      <div class="study-coach-box">
        <a href="coach-details" class="coach-link">
          <div class="coach-image">
            <img src="/images/pics/2.png" alt="Study Coach 1" style="
    width: -webkit-fill-available;
"  loading="lazy">
          </div>
          <div class="coach-details">
            <h2 class="coach-name">Sarah Johnson</h2>
            <p class="coach-specialty">Specialty: English Literature</p>
            <p class="coach-description">Dedicated to helping students develop strong reading and analytical skills for success in English literature exams.</p>
          </div>
        </a>
      </div>
      <a href="coach_apply.html" class="btn btn-primary btn-apply-coach">Apply to be a Study Coach</a>
    </div>
    <div class="col-md">
      <div class="study-coach-box">
        <a href="coach-details" class="coach-link">
          <div class="coach-image">
            <img src="/images/pics/7.png" alt="Study Coach 2" style="
    width: -webkit-fill-available;
"  loading="lazy">
          </div>
          <div class="coach-details">
            <h2 class="coach-name">Michael Chen</h2>
            <p class="coach-specialty">Specialty: Science and Biology</p>
            <p class="coach-description">Passionate about guiding students through complex scientific concepts and preparing them for biology exams.</p>
          </div>
        </a>
      </div>
      <a href="coach_apply.html" class="btn btn-primary btn-apply-coach">Apply to be a Study Coach</a>
    </div>
    <div class="col-md d-md-none">
      <div class="study-coach-box">
        <a href="coach-details" class="coach-link">
          <div class="coach-image">
            <img src="/images/pics/5.png" alt="Study Coach 3" style="
    width: -webkit-fill-available;"  loading="lazy">
          </div>
          <div class="coach-details">
            <h2 class="coach-name">Emily Thompson</h2>
            <p class="coach-specialty">Specialty: History and Social Studies</p>
            <p class="coach-description">Committed to helping students gain a deep understanding of historical events and develop critical thinking skills for history exams.</p>
          </div>
        </a>
      </div>
      <a href="coach_apply" class="btn btn-primary btn-apply-coach">Apply to be a Study Coach</a>
    </div>
  </div>
</div>

	    
	    
    </div>
  </div>
</div>



    
    
  <div class="container mt-4 d-none" id="quiz-container">
  <!-- Quiz Container -->
  <div class="layer-1">
    <!-- First Layer -->
    <div class="layer-2" id="quiz_main_area">
      <!-- Second Layer: Main Quiz Area -->
      <div id="ad-container">
        <!-- Ad Container -->
        <div id="ad-box">
          Google Ads<p>	<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="Quizzatopia" data-color="#5F7FFF" data-emoji=""  data-font="Cookie" data-text="Buy me a coffee" data-outline-color="#000000" data-font-color="#ffffff" data-coffee-color="#FFDD00" ></script></p>
          <div id='ad-view' style="min-width:255px">
            <span id='ad-text'>Is the ad Showing?</span>
            <!-- Google Ad Code -->
         
		  
		  
		  
		  
            <!-- <span class='ad-text'>This will be an ad</span> -->
          </div>
        </div>
      </div>
	    
<div id="quiz-timer-qn" class="d-flex justify-content-between">
  <div id="question-number" class="font-weight-bold"></div>
  <div id="timer" class="text-right"></div>
</div>


    <div class="progress-bar-container">
        <!-- Progress Bar Container -->
        <div class="progress-bar" id="progress-bar"></div>
        <!-- Progress Bar -->

      </div>
	    
	    
	      <h1 id="question"></h1>
      <!-- Question heading -->
      <ul class="list-unstyled" id="optionContainers">
        <!-- Answer option containers -->
        <li><button class="btn btn-primary answer-option"></button></li>
        <li><button class="btn btn-primary answer-option"></button></li>
        <li><button class="btn btn-primary answer-option"></button></li>
        <li><button class="btn btn-primary answer-option"></button></li>
      </ul>




    <!-- Explanation area -->
    <div id="btn_container">
      <!-- Button container -->
      <button id="show-explanation-btn" class="btn btn-primary d-none mt-3">Show Explanation</button>
         <button id="skip-next-btn" class="btn btn-primary mt-3">Skip</button>


      </div>
    </div>
  </div>
</div>

<div class="explanation-container ">
  <button id="close-btn" class="close-button">&times;</button>
  <div id="explanation"></div>
</div>
		
		
		
		
		
<div class="container mt-4 d-none" id="end-container">
  <!-- End Container -->
  <h2 id="result-text"></h2>
  <!-- Result Text -->
  <h2 class="mt-4">Your Final Score</h2>
  <!-- Final Score Heading -->
  <p id="score"></p>
  <!-- Score Placeholder -->
  <p id="feedback"></p>
  <!-- Feedback Placeholder -->
	<p><span id="earnedPoints"></span></p>
	<p><div class="d-none" id="badgebox">
		<span>Awards</span>
		<div id="badgeView"></div>
		
		
		</div></p>

  <button id="retake-btn" class="btn btn-primary mt-4">Retake Quiz</button>
  <!-- Retake Quiz Button -->
  <button class="other-quiz-btn btn btn-secondary mt-4" onclick="window.location.href = 'quizzes'">Try Another Quiz</button>
  <!-- Try Another Quiz Button -->
		
  <div id="social-sharing" class="mt-4">
    <!-- Social Sharing Section -->
    <p>
      <a id="social_fb" href="" target="_blank" class="btn btn-social btn-facebook btn-primary"><i class="fab fa-facebook-f"></i> Share on Facebook</a>
      <!-- Share on Facebook Button -->
      <a id="social_tw" href="" target="_blank" class="btn btn-social btn-twitter btn-info"><i class="fab fa-twitter"></i> Share on Twitter</a>
      <!-- Share on Twitter Button -->
    </p>
    <p>
      <a id="social_red" href="" target="_blank" class="btn btn-social btn-reddit btn-danger"><i class="fab fa-reddit"></i> Share on Reddit</a>
      <!-- Share on Reddit Button -->
      <a id="social_ln" href="" target="_blank" class="btn btn-social btn-linkedin btn-primary" style="margin-right: 10px;"><i class="fab fa-linkedin"></i> Share on LinkedIn</a>
      <!-- Share on LinkedIn Button -->
    </p>
  </div>
	<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="Quizzatopia" data-color="#5F7FFF" data-emoji=""  data-font="Cookie" data-text="Buy me a coffee" data-outline-color="#000000" data-font-color="#ffffff" data-coffee-color="#FFDD00" ></script>
  <button id="getFull_BTN" class="btn btn-primary mt-4" onclick="window.location.href = 'LearnMore'">Get Full Quiz</button>
  <!-- Get Full Quiz Button -->
</div>

		

	
		
		
	<div class="text-right" style="text-align: right;margin-right: 5%;">
  <!-- Button to trigger the pop-up -->
  <button type="button" id="report_BTN" class="btn btn-primary float-right" data-toggle="modal" data-target="#reportModal">
    Report Problem
  </button>
</div>

	 
	</main_section>
	
	
	
					
	<form id="reportForm" method="POST" action="https://formspree.io/Quizzatopia@gmail.com">
  <div class="form-group">
    <label for="reportType">Report Type</label>
    <select class="form-control" id="reportType" required>
      <option value="">Select...</option>
      <option value="question">Report Question</option>
      <option value="quiz">Report Quiz Error</option>
      <option value="other">Other</option>
    </select>
  </div>
  <div class="form-group">
    <label for="reportDetails">Details</label>
    <textarea class="form-control" id="reportDetails" rows="4" required></textarea>
  </div>
  <hr>
  <button type="submit" class="btn btn-primary btn-block">Submit Report</button>
</form>
	
	
	
	
	
	
	
 <style>
    .message-card {
      margin-bottom: 20px;
    }
  </style>

  <div id="MessageBoard" class="container mt-5 d-none  d-none">
    <h2 id="msg_quiz_name" class="mb-4">Quiz Message Board</h2>
    <div class="row">
      <div class="col-lg-8 offset-lg-2">
        <!-- Message Form -->
        <div class="card mb-4">
          <div class="card-header">
            <h5 class="card-title mb-0">Create a New Post</h5>
          </div>
          <div class="card-body">
            <form>
              <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" placeholder="Enter your name">
              </div>
              <div class="mb-3">
                <label for="message" class="form-label">Message</label>
                <textarea class="form-control" id="message" rows="4" placeholder="Type your message here"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>
        </div>
        
        <!-- Message List -->
        <div class="card">
          <div class="card-header">
            <h5 class="card-title mb-0">Latest Posts</h5>
          </div>
          <div class="card-body">
            <div class="message-card">
              <div class="card mb-3">
                <div class="card-body">
                  <h5 class="card-title">John Doe</h5>
                  <p class="card-text">I really enjoyed the quiz! It was challenging yet fun. Looking forward to more quizzes like this.</p>
                  <p class="card-text"><small class="text-muted">Posted on January 15, 2023</small></p>
                </div>
              </div>
            </div>
  
            <div class="message-card">
              <div class="card mb-3">
                <div class="card-body">
                  <h5 class="card-title">Jane Smith</h5>
                  <p class="card-text">The quiz questions were well-crafted and thought-provoking. Can't wait to share it with my friends!</p>
                  <p class="card-text"><small class="text-muted">Posted on January 16, 2023</small></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

	
	
		<script>
// Function to open the login/signup popup
function openPopup() {
  document.getElementById('loginPopup').classList.remove('d-none');
}

// Function to close the login/signup popup
function closePopup() {
  document.getElementById('loginPopup').classList.add('d-none');
}

// Function to switch between login and signup tabs
function switchTab(tabName) {
  document.getElementById('loginTab').style.display = tabName === 'login' ? 'block' : 'none';
  document.getElementById('signupTab').style.display = tabName === 'signup' ? 'block' : 'none';
}

// Fetch the popup HTML dynamically and append it to the signupLoginArea element
fetch('./auth/index.html')
  .then(response => response.text())
  .then(data => {
    const signupLoginArea = document.querySelector('#signupLoginArea');
	signupLoginArea.innerHTML += data;
signupLoginArea.display = "none";
  });


			
</script>


 <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
 <link rel="stylesheet" href="/auth/authStyle.css" />
	
	<script>
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyC8PYJV5-E6hIYbElsgb5e7MOS0faCiLM4",
  authDomain: "quizzatopia-bdfc9.firebaseapp.com",
  projectId: "quizzatopia-bdfc9",
  storageBucket: "quizzatopia-bdfc9.appspot.com",
  messagingSenderId: "828105067102",
  appId: "1:828105067102:web:76afb989ed7c03ebb542cf",
  measurementId: "G-J3QK9V5480"
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);

// Get a reference to the Firestore database
const firestore = firebase.firestore();
</script>

	<script type="module" src="/auth/auth.js"></script>
	
	
	<script>
		
	
	// Check if user is logged in
  if (Loggedin  === 'false') {
		const timerId = setTimeout(() => {
openPopup(); switchTab('signup'); 	
}, 5000); // Timer will execute after 5000 milliseconds (5 seconds)
	  
  }
		
		console.log("cookieValue   f?  "+cookieValue); 

	</script>
 </body>
  <div id="mainFooter"></div>

	    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" ></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" ></script>
    <script src="helpScript.js" Defer></script>

<script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>

	
  <script>
    
	 
// Function to prevent body scrolling on mobile devices during drag
function preventBodyScrolling(event) {
  event.preventDefault();
}

interact('.explanation-container')
  .draggable({
    inertia: true,
    modifiers: [
      interact.modifiers.restrictRect({
        restriction: 'parent',
        endOnly: true,
      }),
    ],
    listeners: {
      move(event) {
        const target = event.target;
        const x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;
        const y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

        target.style.transform = `translate(${x}px, ${y}px)`;
        target.setAttribute('data-x', x);
        target.setAttribute('data-y', y);
      },
      // Disable body scrolling during drag on mobile devices
      start(event) {
        if ('ontouchmove' in document.documentElement) {
          document.addEventListener('touchmove', preventBodyScrolling, { passive: false });
        }
      },
      end(event) {
        if ('ontouchmove' in document.documentElement) {
          document.removeEventListener('touchmove', preventBodyScrolling);
        }
      },
    },
  })
  .resizable({
    edges: { top: true, left: true, bottom: true, right: true },
  })
  .on('resizemove', function (event) {
    const target = event.target;
    let { x, y } = target.dataset;

    x = parseFloat(x) || 0;
    y = parseFloat(y) || 0;

    target.style.width = event.rect.width + 'px';
    target.style.height = event.rect.height + 'px';

    x += event.deltaRect.left;
    y += event.deltaRect.top;

    target.style.transform = `translate(${x}px, ${y}px)`;
    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  });

// You can also add additional logic for handling close button click event, etc.


 
	  
    function  showPieChartFront(Correctpie,Incorrectpie){
 let Correct1 = parseInt(Correctpie);
 let Incorrect1 = parseInt(Incorrectpie);

   const chartCanvas1 = document.createElement('canvas');
chartCanvas1.id = 'pie-chart_1';
   
 
   
   // Create the data for the pie chart
 let pieData1 = {
  labels: ['Correct', 'Incorrect'],
  datasets: [{
    data: [Correct1, Incorrect1],
    backgroundColor: ['#36a2eb', '#ff6384']
  }]
};
   // Append the canvas to the chart container
const chartContainer1 = document.getElementById('pie_graph_front');
chartContainer1.appendChild(chartCanvas1);
	    
   /// console.log(Correct1+" showPieChartFront info     "+ Incorrect1); 
  
  // Get the 2D context of the canvas
const ctx = chartCanvas1.getContext('2d');



// Configure the options for the pie chart
const options1 = {
  responsive: true
};

// Create the pie chart using Chart.js
new Chart(ctx, {
  type: 'pie',
  data: pieData1,
  options: options1
});
  
 
}
	  
	  
	  
	  
    
// Get the current URL and parse its search parameters
const urlParams = new URLSearchParams(window.location.search);
	  
// Get the values of the "q" and "e" parameters
let q = urlParams.get('q');
let e = urlParams.get('e');
	  


if (q === null) {
  const files = [
    "job_interviews",
    "marvel_cinematic_universe",
    "middle_school_math",
    "high_school_science",
    "movies",
    "hip_hop",
    "pop_culture"
  ];

  function getRandomFile(files) {
    return files[Math.floor(Math.random() * files.length)];
  }

  q = getRandomFile(files);
}

// Use the value of "q"
console.log("urlParams     "+q); 

                const newStr = q.replace(/_/g, " ");
	  
	  
	  

	  
document.getElementById("msg_quiz_name").innerHTML = newStr;
document.getElementById("optionsQuizName").innerHTML = newStr;
	  
document.getElementById("social_fb").href = "https://www.facebook.com/sharer/sharer.php?u=https://quizzatopia.com/quiz?q="+q;
document.getElementById("social_tw").href = "https://twitter.com/intent/tweet?url=https://quizzatopia.com/quiz?q="+q;
document.getElementById("social_ln").href = "ttps://www.linkedin.com/shareArticle?url=https://quizzatopia.com/quiz?q="+q;
document.getElementById("social_red").href = "https://www.reddit.com/submit?url=https://quizzatopia.com/quiz?q="+q;
    
	  
	  
	  
	  
function calculateScore(quizInfo) {
  const totalQuestions = quizInfo.numberOfQuestions || 0;
  const correctAnswers = quizInfo.questionCorrect || 0;

  const score = correctAnswers;
  const percentage = totalQuestions > 0 ? (correctAnswers / totalQuestions) * 100 : 0;

  return {
    score,
    percentage,
  };
}

	  
	function saveQuizInfo(quizCode, quizInfo, q) {
  //console.log('???????????????????????????saveQuizInfo???????????????????????????????????????????????//');
if(quizStarted == true){
  const savedQuizInfo = JSON.parse(localStorage.getItem(`quizInfo_${quizCode}`)) || {};
  const savedScore = savedQuizInfo.questionCorrect || 0;
  const newScore = quizInfo.questionCorrect || 0;

 // console.log(savedScore + " savedScore | newScore " + newScore);

  //console.log('saveQuizInfo Quiz quizInfo:' + quizInfo);
  //console.log('saveQuizInfo Quiz Code:' + quizCode);
  //console.log('saveQuizInfo Quiz Info:' + savedQuizInfo);
 // console.log('JSON.stringify(savedQuizInfo)) Quiz Info:' + JSON.stringify(savedQuizInfo));

  if (newScore > savedScore || savedScore === 0 || savedScore === null) {
    savedQuizInfo.quizCode = quizCode;
    savedQuizInfo.quizInfo = quizInfo;
    savedQuizInfo.questionCorrect = newScore; // Update the questionCorrect value
    savedQuizInfo.quizLink = q; // Add the "q" parameter to the quizInfo object
 if (newScore > savedScore ){
	  	  updatePoints(pointsRewards);
 }
	  
	  
    // Update the quiz information for the specific quiz code
    localStorage.setItem(`quizInfo_${quizCode}`, JSON.stringify(savedQuizInfo));
  }
}
}


  // Call the saveQuizInfo function with the "q" parameter
//saveQuizInfo(quizCode, quizInfo, q);

	  
	  
	  
	  
	  
// Log the contents of the storage
function logStorageContents(quizCode) {
  const savedQuizInfo = localStorage.getItem(`quizInfo_${quizCode}`);
//  console.log('logStorageContents Quiz Code:', quizCode);
  console.log('logStorageContents Quiz Info:', savedQuizInfo);
}


	  
	  
	  
	  
	  
	  
	  
	  
	  
	  
	  
	  
	  
	  
 
let questions = [];
let quizCode;
let quizName;
let numberOfQuestions;

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
	  
	  


	  
// Retrieve the stored test information and display it
// Retrieve the stored test information and display it
// Retrieve the stored test information and display it
function displayTestInfo(quizCodeNS, quizNameNS, numberOfQuestionsNS) {
  const storedQuizInfo = localStorage.getItem(`quizInfo_${quizCode}`);
  if (storedQuizInfo) {
    try {
      const quizInfo = JSON.parse(storedQuizInfo);
      const testInfoDiv = document.getElementById('testInfo');

      // Calculate user score and completion percentage
      const { score, percentage } = calculateScore(quizInfo);
      let ansWrong = numberOfQuestions - score;

	    if(score > 0){
      // Show the pie chart for correct and incorrect answers
      showPieChartFront(score, ansWrong);
	    }
      testInfoDiv.innerHTML = `
        <h3>Quiz Information</h3>
        <p><strong>Quiz Code:</strong> ${quizInfo.quizCode}</p>
        <p><strong>Number of Questions:</strong> ${quizInfo.numberOfQuestions}</p>
        <p><strong>Question Correct:</strong> ${score}</p>
        <p><strong>Best Score:</strong> ${percentage.toFixed(0)}%</p>
      `;
	    
	    	  
	      const optionsQuizNameDiv = document.getElementById('optionsQuizName');
    optionsQuizNameDiv.innerHTML = `${quizNameNS}`;
	    
      logStorageContents(quizInfo.quizCode);

    } catch (error) {
      console.error('Error parsing stored quiz info:', error);
      // Handle error, display appropriate message or fallback behavior
    }
  } else {
    // Handle case where there is no stored quiz info, display appropriate message or fallback behavior
    const testInfoDiv = document.getElementById('testInfo');
    testInfoDiv.innerHTML = `
        <h3>Quiz Information</h3>
        <p><strong>Quiz Code:</strong> ${quizCodeNS}</p>
        <p><strong>Number of Questions:</strong> ${numberOfQuestionsNS}</p>
        <p><strong>No quiz information found.</strong></p>
      `;
	  
	      const optionsQuizNameDiv = document.getElementById('optionsQuizName');
    optionsQuizNameDiv.innerHTML = `${quizNameNS}`;
  }
}

// Check if quizCode matches and retrieve or save quiz info
function checkQuizCodeAndGetInfo(quizCodeNS, quizNameNS, numberOfQuestionsNS) {
  const savedQuizInfo = localStorage.getItem(`quizInfo_${quizCode}`);
  let quizInfo;
  let timestamp = new Date().toLocaleString();

  if (!savedQuizInfo) {
    // Quiz info doesn't exist, save new quiz info to storage
    quizInfo = {
      quizCode: quizCodeNS,
      quizName: quizNameNS,
      numberOfQuestions: numberOfQuestionsNS,
      questionCorrect: 0,
      timestamp: timestamp,
	quizLink: q  // Add the "q" parameter to the quizInfo object

    };

   // localStorage.setItem(`quizInfo_${quizCode}`, JSON.stringify(quizInfo));
  } else {
    // Quiz info exists, retrieve existing quiz info from storage
    quizInfo = JSON.parse(savedQuizInfo);
    quizInfo.quizName = quizNameNS;
    quizInfo.numberOfQuestions = numberOfQuestionsNS;
    quizInfo.timestamp = timestamp;
quizInfo.quizLink = q;  // Add the "q" parameter to the quizInfo object
    localStorage.setItem(`quizInfo_${quizCode}`, JSON.stringify(quizInfo));
  }

  return quizInfo;

}
	  
	  function isValidEdition(e) {
  return parseInt(e) > 1;
}

function fetchData(q, e) {
let stringEnt;	
  if (e && isValidEdition(e)) {
	  
		         console.log("New JSON structure");
  
	stringEnt  = "/quiz/Quizzes/"+q+".json";
  }else{
	         console.log("old JSON structure");
 
	stringEnt  = "q/"+q+".json";
  }
	
	
  fetch(stringEnt)
    .then(response => response.json())
    .then(data => {
      if (Array.isArray(data)) {
        // Handle old JSON structure
        console.log("Old JSON structure");

        if (data.length === 0) {
          // Handle empty data
          console.log("Empty data");
          const randomFile = getRandomFile(files);
          fetchData(randomFile);
        } else {
          // Use the questions data here
          const questionData = data.map(questionObj => ({
            question: questionObj.question,
            answer: questionObj.answer,
            options: questionObj.options,
            explanation: questionObj.explanation
          }));

          // Update quizCode, quizName, numberOfQuestions
          quizCode = "";
          quizName = "";
          numberOfQuestions = data.length;

          // Check quiz code and retrieve or save quiz info
          const quizInfo = checkQuizCodeAndGetInfo(quizCode, quizName, numberOfQuestions);

          questions.push(...questionData);
          shuffleArray(questions);

          // Access and use the retrieved quiz information
          const questionsCompleted = quizInfo.questionsCompleted;

          // Display the test information
          displayTestInfo(quizCode, quizName, numberOfQuestions);
        }
      } else {
        // Handle new JSON structure

        if (data.questions.length === 0) {
          // Handle empty data
          console.log("Empty data");
          const randomFile = getRandomFile(files);
          fetchData(randomFile);
        } else {
          // Use the questions data here
          const questionData = data.questions.map(questionObj => ({
            question: questionObj.question,
            answer: questionObj.answer,
            options: questionObj.options,
            explanation: questionObj.explanation
          }));

          // Update quizCode, quizName, numberOfQuestions
          quizCode = data.quizCode;
          quizName = data.quizName;
          numberOfQuestions = data.numberOfQuestions;

          // Check quiz code and retrieve or save quiz info
          const quizInfo = checkQuizCodeAndGetInfo(quizCode, quizName, numberOfQuestions);

          questions.push(...questionData);
          shuffleArray(questions);

          // Access and use the retrieved quiz information
          const questionsCompleted = quizInfo.questionsCompleted;

          // Display the test information
          displayTestInfo(quizCode, quizName, numberOfQuestions);
        }
      }
    })
    .catch(error => console.error(error));
}

  
	  
	  
fetchData(q, e);

	      
	      


	      // Get the modal element
const reportModal = document.getElementById('reportModal');

// Get the form element
//const reportForm = document.getElementById('reportForm');

// Add submit event listener to the form
reportForm.addEventListener('submit', function (e) {
  e.preventDefault();

  // Get the selected report type and details
  const reportType = document.getElementById('reportType').value;
  const reportDetails = document.getElementById('reportDetails').value;

  // Perform any necessary actions with the report data
  // For example, you can send an AJAX request to report the problem


// Function to open the modal
function openModal() {
  reportModal.style.display = 'block';
  reportModal.style.opacity = '1';
	 console.log("openModal      "); 
}

// Function to close the modal
function closeModal() {
  reportModal.style.display = 'none';
  reportModal.style.opacity = '0';

}

// Add click event listener to the report button
document.getElementById('report_BTN').addEventListener('click', openModal);

// Add click event listener to the close button
document.getElementById('closeReportBTN').addEventListener('click', closeModal);

// Add click event listener to the modal overlay
document.addEventListener('click', function (e) {
  if (e.target === reportModal) {
    closeModal();
  }
});

	      
	  // Close the modal
  closeModal();
});
      
	      
	      
    </script>

	  <script src="script.js" Defer></script>

</html>


